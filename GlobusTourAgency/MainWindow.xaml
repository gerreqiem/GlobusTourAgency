<Window x:Class="GlobusTourAgency.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Турагентство Глобус" 
        Height="700" Width="900"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#1976D2" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock x:Name="UserInfoText" 
                           Foreground="White" 
                           FontSize="14" 
                           VerticalAlignment="Center"/>

                <Button Grid.Column="1" 
                        x:Name="LogoutButton"
                        Content="Выйти" 
                        Click="LogoutButton_Click"
                        Width="80" 
                        Background="White" 
                        Foreground="#1976D2"/>
            </Grid>
        </Border>

        <Border Grid.Row="1" x:Name="ManagerPanel" Background="#E3F2FD" Padding="10" Visibility="Collapsed">
            <StackPanel>
                <TextBlock Text="Поиск и фильтрация (для менеджеров/администраторов)" 
                           FontWeight="Bold" 
                           Margin="0,0,0,5"/>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <TextBox x:Name="SearchTextBox" 
                             TextChanged="SearchTextBox_TextChanged"
                             Height="30" 
                             Margin="5" 
                             Padding="5"
                             Grid.Column="0"
                             Text=""
                             ToolTip="Поиск по названию или стране"/>

                    <ComboBox x:Name="CountryFilterComboBox"
                              SelectionChanged="CountryFilterComboBox_SelectionChanged"
                              Width="150" 
                              Height="30" 
                              Margin="5"
                              Grid.Column="1"
                              ToolTip="Фильтр по стране">
                        <ComboBoxItem Content="Все"/>
                        <ComboBoxItem Content="Италия"/>
                        <ComboBoxItem Content="Франция"/>
                        <ComboBoxItem Content="Австрия"/>
                        <ComboBoxItem Content="Германия"/>
                        <ComboBoxItem Content="Чехия"/>
                    </ComboBox>

                    <ComboBox x:Name="SortComboBox"
                              SelectionChanged="SortComboBox_SelectionChanged"
                              Width="150" 
                              Height="30" 
                              Margin="5"
                              Grid.Column="2"
                              ToolTip="Сортировка">
                        <ComboBoxItem Content="По дате (возрастание)"/>
                        <ComboBoxItem Content="По дате (убывание)"/>
                        <ComboBoxItem Content="По цене (возрастание)"/>
                        <ComboBoxItem Content="По цене (убывание)"/>
                        <ComboBoxItem Content="По длительности"/>
                        <ComboBoxItem Content="По названию"/>
                        <ComboBoxItem Content="По количеству мест"/>
                    </ComboBox>
                </Grid>
            </StackPanel>
        </Border>

        <Border Grid.Row="2" x:Name="ManagerControlsPanel" Background="#F5F5F5" Padding="5" Visibility="Collapsed">
            <StackPanel Orientation="Horizontal">
                <Button x:Name="CreateTourButton" 
                        Content="Создать тур" 
                        Click="CreateTourButton_Click"
                        Width="120" 
                        Margin="5" 
                        Background="#4CAF50" 
                        Foreground="White"/>
                <Button x:Name="BusManagementButton" 
                        Content="Управление автобусами" 
                        Click="BusManagementButton_Click"
                        Width="150" 
                        Margin="5" 
                        Background="#2196F3" 
                        Foreground="White"/>

                <Button x:Name="RequestsButton" 
                        Content="Заявки" 
                        Click="RequestsButton_Click"
                        Width="100" 
                        Margin="5" 
                        Background="#FF9800" 
                        Foreground="White"/>
            </StackPanel>
        </Border>

        <ScrollViewer Grid.Row="3" VerticalScrollBarVisibility="Auto">
            <WrapPanel x:Name="ToursPanel" 
                       Margin="10" 
                       HorizontalAlignment="Center"/>
        </ScrollViewer>
    </Grid>
</Window>